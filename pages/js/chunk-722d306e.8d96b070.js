(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-722d306e"],{5245:function(t,i,s){"use strict";var o=s("95c5"),e=s.n(o);e.a},6374:function(t,i,s){},"6ae3":function(t,i,s){var o=s("1c8b"),e=s("8d7b");o({target:"Array",proto:!0,forced:e!==[].lastIndexOf},{lastIndexOf:e})},"8d7b":function(t,i,s){"use strict";var o=s("da10"),e=s("3da3"),n=s("d88d"),a=s("d7e1"),r=s("ff9c"),c=Math.min,h=[].lastIndexOf,l=!!h&&1/[1].lastIndexOf(1,-0)<0,m=a("lastIndexOf"),u=r("indexOf",{ACCESSORS:!0,1:0}),d=l||!m||!u;t.exports=d?function(t){if(l)return h.apply(this,arguments)||0;var i=o(this),s=n(i.length),a=s-1;for(arguments.length>1&&(a=c(a,e(arguments[1]))),a<0&&(a=s+a);a>=0;a--)if(a in i&&i[a]===t)return a||0;return-1}:h},"92b0":function(t,i,s){"use strict";var o=s("6374"),e=s.n(o);e.a},9302:function(t,i,s){"use strict";var o=s("1c8b"),e=s("692f"),n=s("da10"),a=s("d7e1"),r=[].join,c=e!=Object,h=a("join",",");o({target:"Array",proto:!0,forced:c||!h},{join:function(t){return r.call(n(this),void 0===t?",":t)}})},"95c5":function(t,i,s){},a6e0:function(t,i,s){"use strict";s.r(i);var o=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("el-card",{staticClass:"box-card content-card"},[s("div",{staticClass:"pic-pre"},[s("PicpreCrop")],1)])],1)},e=[],n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"not-select",attrs:{id:"pic-pre"}},[s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"imgbox"},[s("img",{attrs:{id:"pic"}}),s("div",{staticClass:"crop-box",class:{active:t.hasImg}},[s("div",{staticClass:"left common",staticStyle:{height:"100%"},style:{width:t.x+"%"}}),s("div",{staticClass:"top common",style:{width:t.m-t.x+"%",height:t.y+"%",left:t.x+"%"}}),s("div",{staticClass:"right common",staticStyle:{height:"100%",right:"0"},style:{width:100-t.m+"%"}}),s("div",{staticClass:"bottom common",style:{width:t.m-t.x+"%",height:100-t.n+"%",bottom:0,left:t.x+"%"}}),s("div",{staticClass:"center common",style:{width:t.m-t.x+"%",height:t.n-t.y+"%",left:t.x+"%",top:t.y+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"center")}}}),s("div",{staticClass:"left-top common",style:{left:t.x+"%",top:t.y+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"left-top")}}}),s("div",{staticClass:"top-center common",staticStyle:{transform:"translateX(-50%)"},style:{left:(t.m-t.x)/2+t.x+"%",top:t.y+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"top")}}}),s("div",{staticClass:"right-top common",staticStyle:{transform:"translateX(-100%)"},style:{left:t.m+"%",top:t.y+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"right-top")}}}),s("div",{staticClass:"right-center common",staticStyle:{transform:"translate(-100%, -50%)"},style:{left:t.m+"%",top:(t.n-t.y)/2+t.y+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"right")}}}),s("div",{staticClass:"right-bottom common",staticStyle:{transform:"translate(-100%, -100%)"},style:{left:t.m+"%",top:t.n+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"right-bottom")}}}),s("div",{staticClass:"bottom-center common",staticStyle:{transform:"translate(-50%, -100%)"},style:{left:(t.m-t.x)/2+t.x+"%",top:t.n+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"bottom")}}}),s("div",{staticClass:"left-bottom common",staticStyle:{transform:"translateY(-100%)"},style:{left:t.x+"%",top:t.n+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"left-bottom")}}}),s("div",{staticClass:"left-center common",staticStyle:{transform:"translateY(-50%)"},style:{left:t.x+"%",top:(t.n-t.y)/2+t.y+"%"},on:{mousedown:function(i){return i.stopPropagation(),t.setParam(i,"left")}}})])]),s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"},on:{change:t.change}}),s("el-button",{attrs:{size:"mini"},on:{click:t.clickButton}},[t._v("选择图片")]),t.hasImg?s("el-button",{attrs:{size:"mini"},on:{click:t.getPosition}},[t._v("确认裁剪")]):t._e()],1),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"canvas-box"},[s("canvas",{ref:"canvas",attrs:{id:"canvas",width:"100%",height:"100%"}})])])],1)],1)},a=[],r=(s("dbb3"),s("ecb4"),s("9302"),s("6ae3"),s("e35a"),s("f4e3"),{name:"Picpre",data:function(){return{loading:!0,hasImg:!1,imgFormat:["png","jpg","jpeg"],position:[25,25,75,75],x:25,y:25,m:75,n:75,isDown:!1,startX:0,startY:0,box:{width:0,height:0},param:"center",imgUrl:""}},methods:{clickButton:function(){document.getElementById("file").click()},change:function(){var t=document.getElementById("pic"),i=document.getElementById("file"),s=i.value.substring(i.value.lastIndexOf(".")+1).toLowerCase();if(""!==s){if(this.imgFormat.indexOf(s)<0)return this.$message.error("图片的格式必须为".concat(this.imgFormat.join("、"),"格式！")),void(this.hasImg=!1);this.hasImg=!0,this.setUrl(t,i)}},setUrl:function(t,i){if(null!=navigator.userAgent.match(/MSIE/)){i.select();var s=document.selection.createRange().text;t.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='image',src=\""+s+'")',t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.imgUrl=t.src}else{var o=new FileReader,e=this;o.readAsDataURL(i.files[0]),o.onload=function(){t.src=this.result,e.imgUrl=this.result}}},getPosition:function(){var t=this,i=this.$refs["canvas"],s=i.getContext("2d"),o=new Image;o.src=this.imgUrl,o.onload=function(){var e=t.position[0]/100*o.width,n=t.position[1]/100*o.height,a=(t.position[2]-t.position[0])/100*o.width,r=(t.position[3]-t.position[1])/100*o.height;s.drawImage(o,e,n,a,r,0,0,i.width,i.height)}},setParam:function(t,i){this.startX=t.clientX,this.startY=t.clientY,this.isDown=!0,this.param=i},setPosition:function(t){if(this.isDown){var i=t.clientX,s=t.clientY,o=(i-this.startX)/this.box.width*100,e=(s-this.startY)/this.box.height*100;switch(this.param){case"center":this.setCenter(o,e);break;case"left":this.setLeft(o);break;case"left-top":this.setLeftTop(o,e);break;case"top":this.setTop(e);break;case"right-top":this.setRightTop(o,e);break;case"right":this.setRight(o);break;case"right-bottom":this.setRightBottom(o,e);break;case"bottom":this.setBottom(e);break;case"left-bottom":this.setLeftBottom(o,e);break}this.x=this.x>=this.m?this.m:this.x,this.y=this.y>=this.n?this.n:this.y}},setCenter:function(t,i){var s=this.position[0]+t,o=this.position[1]+i,e=this.position[2]+t,n=this.position[3]+i;s>=0&&e<=100?(this.x=this.position[0]+t,this.m=this.position[2]+t):this.position[0]+t<0?this.x=0:this.m=100,o>=0&&n<=100?(this.y=this.position[1]+i,this.n=this.position[3]+i):this.position[1]+i<0?this.y=0:this.n=100},setLeft:function(t){var i=this.position[0]+t;this.x=i<0?0:i},setLeftTop:function(t,i){var s=this.position[0]+t,o=this.position[1]+i;this.x=s<0?0:s,this.y=o<0?0:o},setTop:function(t){var i=this.position[1]+t;this.y=i<0?0:i},setRightTop:function(t,i){var s=this.position[1]+i,o=this.position[2]+t;this.y=s<0?0:s,this.m=o>100?100:o},setRight:function(t){var i=this.position[2]+t;this.m=i>100?100:i},setRightBottom:function(t,i){var s=this.position[2]+t,o=this.position[3]+i;this.m=s>100?100:s,this.n=o>100?100:o},setBottom:function(t){var i=this.position[3]+t;this.n=i>100?100:i},setLeftBottom:function(t,i){var s=this.position[0]+t,o=this.position[3]+i;this.x=s<0?0:s,this.n=o>100?100:o}},mounted:function(){var t=this;this.loading=!1;var i=document.getElementById("pic");this.box.width=i.clientWidth,this.box.height=i.clientHeight,this.$refs.canvas.width=this.box.width,this.$refs.canvas.height=this.box.height,document.getElementById("app").onmouseup=function(){t.isDown=!1,t.position=[t.x,t.y,t.m,t.n]},document.getElementById("app").onmousemove=function(i){t.setPosition(i)}},beforeDestroy:function(){document.getElementById("app").onmouseup=null,document.getElementById("app").onmousemove=null}}),c=r,h=(s("92b0"),s("9ca4")),l=Object(h["a"])(c,n,a,!1,null,"53d256dc",null),m=l.exports,u={name:"picpreCrop",components:{PicpreCrop:m}},d=u,p=(s("5245"),Object(h["a"])(d,o,e,!1,null,null,null));i["default"]=p.exports},f4e3:function(t,i,s){"use strict";var o=s("b2a2"),e=s("857c"),n=s("d88d"),a=s("2732"),r=s("38eb"),c=s("59da");o("match",1,(function(t,i,s){return[function(i){var s=a(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,s):new RegExp(i)[t](String(s))},function(t){var o=s(i,t,this);if(o.done)return o.value;var a=e(t),h=String(this);if(!a.global)return c(a,h);var l=a.unicode;a.lastIndex=0;var m,u=[],d=0;while(null!==(m=c(a,h))){var p=String(m[0]);u[d]=p,""===p&&(a.lastIndex=r(h,n(a.lastIndex),l)),d++}return 0===d?null:u}]}))}}]);
//# sourceMappingURL=chunk-722d306e.8d96b070.js.map